import{b as x,d as p,e as h,u as g,r as c,j as e,t as o,l as f}from"./index-CiVVu7O9.js";import{L as b}from"./Language-C18tkMvH.js";import"./select-BDPo9Cme.js";const R=({user:w,isAuthenticated:v})=>{const d=x(),m=p(),{isLoading:i}=h(a=>a.auth),{t}=g(),[s,l]=c.useState({email:"",password:""}),[j,N]=c.useState(""),u=async a=>{if(a.preventDefault(),!s.email||!s.password){o.error("Please fill in all fields");return}try{const r=await d(f(s));if(r.meta.requestStatus==="fulfilled"&&r.payload?.success){o.success(r.payload.message||"Login successful!"),l({email:"",password:""});const n=r.payload.user?.role;m({Admin:"/admin/home",Patient:"/patient/home",Doctor:"/doctor/home",Nurse:"/nurse/home",Receptionist:"/receptionist"}[n]||"/dashboard")}else{const n=r.payload?.message||r.error?.message||"Login failed";o.error(n)}}catch{o.error("An unexpected error occurred. Please try again.")}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center min-h-[40vh] md:h-[100vh] bg-[var(--six)] p-6 md:p-10",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white text-center mb-4",children:t("welcomeTitle")}),e.jsx("p",{className:"text-white text-center mb-6 md:mb-10",children:t("loginSubtitle")}),e.jsx(b,{})]}),e.jsx("div",{className:"w-full md:w-1/2 min-h-[60vh] md:h-[100vh] bg-[var(--two)] flex items-center justify-center p-6",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-[var(--six)] p-6 md:p-10 rounded-2xl w-full",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white text-center",children:t("loginTitle")}),e.jsx("p",{className:"text-white text-center mb-6 md:mb-10",children:t("loginSubtitle")}),e.jsxs("form",{onSubmit:u,className:"flex flex-col gap-4",children:[e.jsx("input",{type:"email",name:"email",placeholder:t("email"),value:s.email,onChange:a=>l({...s,email:a.target.value}),className:"border text-white bg-transparent border-gray-300 rounded-md p-2 md:p-3 focus:outline-none focus:ring-2 focus:ring-[var(--two)]",required:!0}),e.jsx("input",{type:"password",name:"password",placeholder:t("password"),value:s.password,onChange:a=>l({...s,password:a.target.value}),className:"border text-white bg-transparent border-gray-300 rounded-md p-2 md:p-3 focus:outline-none focus:ring-2 focus:ring-[var(--two)]",required:!0}),e.jsx("button",{type:"submit",disabled:i,className:"bg-[var(--one)] text-black font-bold p-2 md:p-3 rounded-md hover:bg-opacity-90 transition-colors disabled:opacity-50",children:i?`${t("login")}...`:t("login")})]}),e.jsx("p",{className:"text-white text-center mt-4",children:e.jsx("a",{href:"/location",className:"text-[var(--one)] hover:underline",children:t("register")})})]})})})]})};export{R as default};
